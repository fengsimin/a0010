<?php
//Copyright (c) 2016 iFeiwu.com
 class Database extends Ifeiwu { function __construct() { $this->table = ''; parent::__construct(); } protected function postBackup() { goto YDhdF; YDhdF: ifeiwu\Loader::import("\x65\170\x74\x65\x6e\144\57\x4d\x79\163\x71\x6c\102\x61\x63\153\165\x70"); goto zggIV; WZIAb: return $this->success('', $name); goto Doej6; zggIV: $mb = new MysqlBackup(); goto yfcxw; Doej6: upS0f: goto Ka4ea; QW7LZ: goto upS0f; goto KZvGU; zdZsu: return $this->error(); goto QW7LZ; yfcxw: $name = $mb->export(); goto FMlK9; FMlK9: if ($name !== false) { goto RtBmC; } goto zdZsu; KZvGU: RtBmC: goto WZIAb; Ka4ea: } protected function postReply($filename) { goto n2bwJ; qK6Rz: tuimK: goto ACMpH; gd4pP: cXDVS: goto gB_Fn; n2bwJ: ifeiwu\Loader::import("\x65\170\164\145\x6e\x64\57\x4d\171\x73\x71\154\102\141\143\153\x75\160"); goto lNx5b; gB_Fn: return $this->success(); goto qK6Rz; yXdKp: $errors = $mb->import($filename); goto VvMeT; D6ZaH: return $this->error(json_encode($errors)); goto so0h7; lNx5b: $mb = new MysqlBackup(); goto yXdKp; VvMeT: if (!$errors) { goto cXDVS; } goto D6ZaH; so0h7: goto tuimK; goto gd4pP; ACMpH: } protected function getSqls() { goto MIqu3; zANKv: if (!(false !== ($file = readdir($handle)))) { goto DF_Wt; } goto Hzlbi; ZC_04: goto H5eQk; goto I7mnU; O9Ze_: oYKHn: goto e7K8B; QiYZ4: J7dbt: goto ZC_04; JYX1x: $stat = stat($dir . $file); goto L62Aw; I7mnU: DF_Wt: goto kCZx_; kCZx_: closedir($handle); goto O9Ze_; kkHs1: if (!(false != ($handle = opendir($dir)))) { goto oYKHn; } goto B4IJp; Hzlbi: if (!($file != "\x2e" && $file != "\56\x2e" && strpos($file, "\x2e"))) { goto J7dbt; } goto JYX1x; B4IJp: H5eQk: goto zANKv; L62Aw: $files[] = array("\156\141\155\x65" => $file, "\163\151\x7a\x65" => $stat["\x73\151\x7a\145"], "\x63\164\151\155\x65" => $stat["\143\x74\151\x6d\x65"]); goto QiYZ4; e7K8B: return array_reverse($files); goto GKWtg; MIqu3: $dir = "\x73\161\154\57"; goto kkHs1; GKWtg: } protected function postDelete($filename) { goto NAsyw; n4SnY: ZTdQS: goto bdeuT; Q5eG8: return $this->error(); goto plf4v; vMDdh: lgUMi: goto VkKTO; NAsyw: if (unlink("\163\x71\x6c\x2f{$filename}") !== false) { goto lgUMi; } goto Q5eG8; plf4v: goto ZTdQS; goto vMDdh; VkKTO: return $this->success(); goto n4SnY; bdeuT: } }
