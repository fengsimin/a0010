<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto biqZG; jOINQ: if (!$this->table) { goto Y4yTl; } goto Jv2u2; e6PKd: Y4yTl: goto zR95V; Pt8mD: eSmH7: goto QXHDx; biqZG: $this->admin = $_GET["\141\x64\155\x69\156"]; goto jOINQ; QXHDx: if (!in_array("\x63\164\x69\155\x65", $this->fields)) { goto aydQ7; } goto BvPTq; KUsUm: aydQ7: goto e6PKd; BvPTq: $this->order[] = "\143\x74\x69\x6d\145\40\104\x45\x53\103"; goto KUsUm; Jv2u2: $this->db = ifeiwu\Db::getInstance(); goto M9uLg; oJCD5: $this->fields = $this->_getTableFields($this->table); goto rJv9T; M9uLg: $this->prefix = $this->db->getPrefix(); goto oJCD5; Trj01: if (!in_array("\163\x6f\x72\164\x62\x79", $this->fields)) { goto eSmH7; } goto l3jtz; rJv9T: $this->order = array(); goto Trj01; l3jtz: $this->order[] = "\x73\x6f\x72\x74\142\171\x20\x44\105\x53\x43"; goto Pt8mD; zR95V: } public function __destruct() { goto tt6oB; tt6oB: if (!APP_DEBUG) { goto fFh70; } goto qg9rP; IQK62: fFh70: goto J6e0V; qg9rP: $this->_debug($this->db->log()); goto IQK62; J6e0V: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto MvWeo; UBBIk: $res["\x64\141\164\141"] = $message; goto RXOWd; N4MNL: tvAXP: goto UBBIk; gROX7: $res["\x63\157\144\145"] = $code; goto FMagy; MvWeo: $res = array(); goto gROX7; vVqFN: goto rxtmk; goto N4MNL; aIlHi: $res["\144\x61\x74\x61"] = $data; goto lueMv; lueMv: hOslS: goto QTfXS; IuEte: if (!$data) { goto hOslS; } goto aIlHi; RXOWd: rxtmk: goto IuEte; U_VY0: $res["\x6d\145\x73\163\141\147\x65"] = $message; goto vVqFN; FMagy: if (is_array($message)) { goto tvAXP; } goto U_VY0; QTfXS: return $res; goto m6H0f; m6H0f: } protected function _bulidData($request_data) { goto w6iAV; SB8UT: return $data; goto a5HPQ; ayycQ: if (!in_array("\164\x69\164\x6c\x65", $this->fields)) { goto Z1vtI; } goto negvg; q__Kf: monR6: goto DiwIK; TxjsU: $data["\x6a\163\157\156"] = $category ? json_encode(array("\143" => $category)) : ''; goto HSdpW; MPJao: if (!($pid > 0 && in_array("\152\x73\157\156", $this->fields))) { goto QPE8U; } goto mU63v; DiwIK: $pid = $data["\160\x69\144"]; goto MPJao; mU63v: $column = array("\151\x64"); goto ayycQ; QAwnF: if (!in_array("\x61\154\151\x61\163", $this->fields)) { goto rWWa5; } goto P66_s; HSdpW: QPE8U: goto SB8UT; negvg: $column[] = "\164\151\x74\x6c\145"; goto nvve0; AgCnJ: if (!isset($request_data["\143\164\151\x6d\145"])) { goto monR6; } goto ppha7; Ft9W_: $data["\163\164\x61\164\x65"] = isset($data["\163\x74\x61\x74\145"]) ? $data["\163\164\x61\164\145"] : 0; goto AgCnJ; VhVui: $category = $this->db->select($this->table, $column)->where("\x69\144\x20\x3d\40{$pid}")->get(); goto TxjsU; P66_s: $column[] = "\x61\154\151\x61\163"; goto GqmrK; GqmrK: rWWa5: goto VhVui; w6iAV: $data = array(); goto FChUS; FChUS: foreach ($this->fields as $field) { goto iXUOW; wO3yo: if (!($value !== null)) { goto v9KIy; } goto CxJWA; A6aqs: cbLq6: goto iQZI7; iXUOW: $value = $request_data[$field]; goto wO3yo; CxJWA: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto vjFVZ; vjFVZ: v9KIy: goto A6aqs; iQZI7: } goto RoD0F; RoD0F: lIOoQ: goto Ft9W_; ppha7: $data["\143\164\x69\155\145"] = strtotime($request_data["\143\164\151\x6d\145"]); goto q__Kf; nvve0: Z1vtI: goto QAwnF; a5HPQ: } protected function _encode($data) { goto zv4bQ; REOHV: return array_map(array($this, "\x5f\145\x6e\x63\157\144\145"), $data); goto jzoBk; uBtAk: if (!is_object($data)) { goto rfPcm; } goto yeZSR; v03lH: return htmlspecialchars($data, ENT_QUOTES); goto gx1z9; U71NK: s_2Nv: goto N2igi; r2BNy: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); R7JMt: } goto U71NK; N2igi: return $tmp; goto PhYoF; PhYoF: rfPcm: goto v03lH; yeZSR: $tmp = clone $data; goto r2BNy; jzoBk: U3XKw: goto uBtAk; zv4bQ: if (!is_array($data)) { goto U3XKw; } goto REOHV; gx1z9: } protected function _decode($data) { goto eFQw2; R5UnR: return $tmp; goto hBD6j; D_cuo: uzPxq: goto LiE6U; LiE6U: if (!is_object($data)) { goto gzPez; } goto C8aoa; k4cKp: return htmlspecialchars_decode($data, ENT_QUOTES); goto bMMW3; viKaS: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); IcgYQ: } goto VUplE; C8aoa: $tmp = clone $data; goto viKaS; VUplE: xj8x_: goto R5UnR; hBD6j: gzPez: goto k4cKp; eFQw2: if (!is_array($data)) { goto uzPxq; } goto uMai3; uMai3: return array_map(array($this, "\x5f\x64\145\x63\x6f\x64\x65"), $data); goto D_cuo; bMMW3: } protected function _getTableFields($table) { goto k4pui; kzaPQ: $count = $query->columnCount(); goto lyfog; rmFke: goto KjnnD; goto BPuQ3; AMVW0: mlbFj: goto jqMZ_; rJd1_: $i++; goto rmFke; K90gV: return $fields; goto ldz2P; yOSaF: $query = $this->db->query("\123\105\114\105\x43\x54\40\x2a\40\106\122\117\115\40{$table}"); goto kzaPQ; lyfog: $i = 0; goto eyHxI; rzUhJ: if (!($i < $count)) { goto zTG4S; } goto Z3Wnp; eyHxI: KjnnD: goto rzUhJ; BPuQ3: zTG4S: goto K90gV; jqMZ_: $table = $this->prefix . $table; goto AzI3y; AzI3y: crjuF: goto yOSaF; Z3Wnp: $column = $query->getColumnMeta($i); goto LIZ3h; aGQhq: goto crjuF; goto AMVW0; k4pui: if ($table) { goto mlbFj; } goto lEI0X; U4YAc: WyYBL: goto rJd1_; lEI0X: $table = $this->prefix . $this->table; goto aGQhq; LIZ3h: $fields[] = $column["\x6e\141\x6d\145"]; goto U4YAc; ldz2P: } protected function _callback($method, $params) { goto Liz2G; PlkrR: DExts: goto QK_2X; Liz2G: if (!(is_callable(array($this, $method)) !== false)) { goto DExts; } goto Pj2KO; Pj2KO: call_user_func_array(array($this, $method), $params); goto PlkrR; QK_2X: } protected function _getLevel($pid, $id) { goto rH4NZ; VOBHG: goto sZIwu; goto SCnV9; CekD1: $this->_getLevel('', $pid); goto SrKAe; Ofzpe: N2tfF: goto lM4su; IJaAK: if ($id) { goto yJkpE; } goto JcStG; KIlRY: x2psP: goto VOBHG; AJaB1: return "\x2c" . $id . "\54"; goto avtuE; cWdf9: return "\54" . implode("\54", array_reverse($list)) . "\54" . $id . "\54"; goto KIlRY; avtuE: sZIwu: goto AFEph; lrCF4: $pid = $this->db->select($this->table, "\x70\x69\144")->where(array("\x69\x64", "\x3d", $id))->get(0); goto Ofzpe; HbAba: if (count($list) == 0) { goto CznJk; } goto IJaAK; Ams3F: $list[] = $pid; goto CekD1; d2NmQ: goto x2psP; goto LNy34; LNy34: yJkpE: goto cWdf9; rH4NZ: static $list = array(); goto lH5rw; SrKAe: YusMd: goto HbAba; SCnV9: CznJk: goto AJaB1; JcStG: return "\54" . implode("\54", array_reverse($list)) . "\54"; goto d2NmQ; lH5rw: if (!($pid === '')) { goto N2tfF; } goto lrCF4; lM4su: if (!($pid != 0)) { goto YusMd; } goto Ams3F; AFEph: } protected function _saveData($table, $data, $where) { goto nPoLA; MLHTg: return $this->db->update($table, $data, $where)->is(); goto CGdUP; yY6uy: goto YpWjZ; goto xveEj; nPoLA: if ($this->db->select($table)->where($where)->has()) { goto A1JHe; } goto uqEq4; xveEj: A1JHe: goto MLHTg; CGdUP: YpWjZ: goto UIULT; uqEq4: return $this->db->insert($table, $data)->is(); goto yY6uy; UIULT: } protected function _saveImages($pid, $request_data) { goto OHSii; y_XyG: Yv29T: goto oFDl2; X8chF: $images_title = $request_data["\151\155\141\x67\x65\x73\137\x74\151\164\154\x65"]; goto HeL3Z; tKINX: $images_path = $request_data["\x69\x6d\x61\x67\145\163\137\160\x61\x74\150"]; goto VxhX7; m5KeM: $data["\160\x69\x64"] = $pid; goto nNS5u; HeL3Z: $images_name = $request_data["\x69\x6d\x61\147\x65\x73\137\156\141\x6d\x65"]; goto tKINX; VxhX7: $images_state = $request_data["\x69\155\x61\x67\x65\163\x5f\x73\x74\x61\164\x65"]; goto wRSKA; qOaJv: $images_order = $request_data["\151\x6d\x61\147\145\x73\137\157\x72\144\145\x72"]; goto X8chF; zj8bs: foreach ($images_id as $i => $id) { goto Dt4_2; QHAp6: $data["\x73\164\141\x74\145"] = $images_state[$i]; goto qr_x3; PVi5T: QKPt7: goto BVayd; kQGrD: $data["\x69\155\x61\x67\145"] = $images_name[$i]; goto Q_dys; BllEB: goto q4oCg; goto oAtYO; Dt4_2: $data["\x74\x69\x74\154\145"] = $images_title[$i]; goto N83ac; N83ac: $data["\157\x72\144\145\x72\142\x79"] = $images_order[$i]; goto QHAp6; oAtYO: BB7BX: goto kQGrD; Q_dys: $data["\x69\155\141\147\x65\x5f\160\141\164\x68"] = $images_path[$i]; goto z1Ter; qr_x3: if (empty($id)) { goto BB7BX; } goto Oc3Jb; jLhn7: unset($data["\x69\x6d\x61\x67\x65"], $data["\x69\155\x61\147\145\x5f\x70\141\164\x68"]); goto T6zrK; T6zrK: q4oCg: goto PVi5T; z1Ter: $this->db->insert($this->table, $data); goto jLhn7; Oc3Jb: $this->db->update($this->table, $data, array("\x69\144", "\x3d", $id)); goto BllEB; BVayd: } goto y_XyG; nNS5u: $data["\143\x74\x69\155\145"] = time(); goto zj8bs; OHSii: $images_id = $request_data["\x69\x6d\x61\x67\x65\x73\137\x69\144"]; goto qOaJv; wRSKA: $data["\164\x79\x70\x65"] = "\151\x6d\141\147\x65"; goto m5KeM; oFDl2: } protected function _removeFiles2($files) { goto tdfYk; bBijh: if (!$files) { goto bDYYk; } goto NmA6E; MnP8Y: $files = json_decode($files, true); goto cAxac; tdfYk: if (!(!empty($files) && !is_array($files))) { goto PiOVC; } goto MnP8Y; EkThO: bDYYk: goto aaNKo; oucK9: rYNR2: goto EkThO; NmA6E: foreach ($files as $key => $value) { goto nEUxa; q9de6: $filename = $path . "\x2f" . $name; goto S5FKP; CwXWx: Lebz5: goto utSV0; stBPh: if ($prefix) { goto dz7je; } goto q9de6; vheWg: $prefix = $value["\160\162\x65\x66\x69\x78"]; goto stBPh; xF_4T: unlink($filename); goto h5gkX; a99mt: dz7je: goto vjz7T; yQSi4: $path = "\x2e\x2e\x2f" . $value["\160\x61\x74\x68"]; goto vheWg; pyxAq: sTIqT: goto vjX0x; S5FKP: if (!file_exists($filename)) { goto pwIwM; } goto xF_4T; lCadP: if ($name) { goto NS7Dh; } goto blVZx; utSV0: ll23_: goto pyxAq; lsxwk: NS7Dh: goto yQSi4; vjz7T: $prefixs = explode("\54", $prefix); goto bWcPK; h5gkX: pwIwM: goto fgwkh; fgwkh: goto ll23_; goto a99mt; blVZx: goto sTIqT; goto lsxwk; bWcPK: foreach ($prefixs as $prefix) { goto u4OPT; u4OPT: $filename = "{$path}\x2f{$prefix}{$name}"; goto z0oIJ; z0oIJ: if (!file_exists($filename)) { goto kjOv7; } goto AYgtE; BIYV9: MWlR1: goto pUd8a; AYgtE: unlink($filename); goto lNny4; lNny4: kjOv7: goto BIYV9; pUd8a: } goto CwXWx; nEUxa: $name = $value["\x6e\x61\x6d\145"]; goto lCadP; vjX0x: } goto oucK9; cAxac: PiOVC: goto bBijh; aaNKo: } protected function _mkdir($path, $mode = 493) { goto sLbBV; sLbBV: if (is_dir($path)) { goto zCi4q; } goto xVaHL; Hld1o: return false; goto pxc8N; xVaHL: return mkdir($path, $mode, true); goto repGC; repGC: zCi4q: goto Hld1o; pxc8N: } protected function _rmdir($path) { goto S26eu; kWPDC: return true; goto mQszc; KkJlY: ko0EZ: goto J6AH5; LjjQK: if (is_dir("{$path}\57{$item}")) { goto Lb50R; } goto gVi9Q; JE1SP: goto ko0EZ; goto aAPAD; mQszc: jmm_d: goto ygr_M; ygr_M: RliWB: goto IBTpR; D1iNI: Cq200: goto kWPDC; Ufkl2: return false; goto f2OOy; rmfr5: $this->_rmdir("{$path}\x2f{$item}"); goto KkJlY; aAPAD: Lb50R: goto rmfr5; PB_Ta: U_Xpn: goto nvJbm; V3nNz: if (!($item != "\x2e" && $item != "\56\56")) { goto Rt3vb; } goto LjjQK; hXIXr: closedir($handle); goto vS6jm; S26eu: if (is_dir($path)) { goto ixZew; } goto Ufkl2; f2OOy: ixZew: goto k8u8t; xuiAt: goto jmm_d; goto D1iNI; J6AH5: Rt3vb: goto ADJc4; e29k0: return false; goto xuiAt; k8u8t: if (!($handle = opendir($path))) { goto RliWB; } goto PB_Ta; vS6jm: if (rmdir($path)) { goto Cq200; } goto e29k0; gsWAm: nHdax: goto hXIXr; nvJbm: if (!(false !== ($item = readdir($handle)))) { goto nHdax; } goto V3nNz; gVi9Q: unlink("{$path}\57{$item}"); goto JE1SP; ADJc4: goto U_Xpn; goto gsWAm; IBTpR: } protected function _bulidUploadPath($temp_path, $data) { goto TM1we; TpGwB: if (!(strpos($path_last, "\41\x3d") !== false)) { goto bGdOO; } goto uBGFv; xApRT: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto mB0O8; o3ysI: $true_path = $temp_path; goto NRlwy; SD9bd: if (rename("\56\56\x2f" . $temp_path, "\x2e\56\57" . $true_path)) { goto knRC9; } goto o3ysI; YJGhc: if (!is_dir("\56\x2e\57" . $temp_path)) { goto SSmu9; } goto SD9bd; NRlwy: knRC9: goto hzDJf; uBGFv: $vardir = current(explode("\x21\75", $path_last)); goto xApRT; FYMGm: hLf5D: goto TpGwB; mB0O8: bGdOO: goto YJGhc; vMrb7: return $true_path; goto QpYIB; G4uL4: return $temp_path; goto FYMGm; hzDJf: SSmu9: goto vMrb7; TM1we: $id = $data["\151\144"]; goto LuUb9; ftgy6: if (!($path_last == $id)) { goto hLf5D; } goto G4uL4; LuUb9: $path_last = end(explode("\x2f", $temp_path)); goto ftgy6; QpYIB: } protected function _toTree($list, $pk = "\151\x64", $pid = "\x70\151\x64", $child = "\137\143\x68\151\x6c\x64", $root = 0) { goto Vc04C; QEqhz: $refer = array(); goto Rpqub; Rpqub: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; a8U35: } goto iHfuM; g0COM: if (!is_array($list)) { goto mnuYO; } goto QEqhz; Yaydg: return $tree; goto I1fRH; crBA0: ERc8V: goto naajh; lZ3i5: foreach ($list as $key => $data) { goto QJTKz; QJTKz: $parentId = $data[$pid]; goto QocAX; WVL2v: $parent =& $refer[$parentId]; goto ZBgES; xnJ_I: if (!isset($refer[$parentId])) { goto kk1Sq; } goto WVL2v; uEgA2: tMkx6: goto L69M9; QocAX: if ($root == $parentId) { goto FWKua; } goto xnJ_I; z2aRo: $tree[] =& $list[$key]; goto I0wbv; qGW6F: goto Bvukz; goto y7rEs; ZBgES: $parent[$child][] =& $list[$key]; goto mhaJd; mhaJd: kk1Sq: goto qGW6F; I0wbv: Bvukz: goto uEgA2; y7rEs: FWKua: goto z2aRo; L69M9: } goto crBA0; Vc04C: $tree = array(); goto g0COM; iHfuM: xyOIV: goto lZ3i5; naajh: mnuYO: goto Yaydg; I1fRH: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto eMIq0; CU5Et: $result = ''; goto XOai5; uNt2K: jUfCt: goto CU5Et; YQx1Y: $chars .= "\41\x40\x23\44\45\136\46\52\50\51"; goto uNt2K; XOai5: $max = strlen($chars) - 1; goto DR2Tr; eMIq0: if (!$islowercase) { goto nwcTn; } goto TERl8; fQKCD: c5CS7: goto upMFo; DR2Tr: $i = 0; goto o7Vd9; DB51Z: $result .= $chars[rand(0, $max)]; goto R38ml; invk0: if (!($i < $length)) { goto DaKpU; } goto DB51Z; Rqpzg: DaKpU: goto H2N8T; TERl8: $chars .= "\x61\142\x63\144\x65\146\147\150\x69\152\153\154\x6d\x6e\157\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7a"; goto xfzS9; Wdm0k: $i++; goto u2h55; jaOgY: $chars .= "\60\x31\x32\x33\64\x35\66\x37\x38\x39"; goto fQKCD; R38ml: cWipG: goto Wdm0k; upMFo: if (!$isspecial) { goto jUfCt; } goto YQx1Y; zD4vW: if (!$isnumber) { goto c5CS7; } goto jaOgY; VmgOq: CUU6x: goto zD4vW; H2N8T: return $result; goto EYktn; oyIIV: if (!$isuppercase) { goto CUU6x; } goto ARTKO; xfzS9: nwcTn: goto oyIIV; ARTKO: $chars .= "\101\x42\x43\x44\105\x46\107\x48\x49\x4a\113\114\x4d\x4e\x4f\x50\x51\122\123\124\x55\x56\127\130\131\x5a"; goto VmgOq; o7Vd9: oS7Wk: goto invk0; u2h55: goto oS7Wk; goto Rqpzg; EYktn: } protected function _UTF82GBK($str) { goto WSUN4; g93wY: goto OPYfy; goto k5M57; WSUN4: if (stripos(php_uname("\x73"), "\x57\x69\x6e\144\x6f\167") !== false) { goto LO8NB; } goto bdKPN; V3OEc: OPYfy: goto nNmAE; k5M57: LO8NB: goto l7cWB; l7cWB: return iconv("\x55\x54\106\55\70", "\x47\102\x4b\57\x2f\111\x47\116\x4f\122\105", $str); goto V3OEc; bdKPN: return $str; goto g93wY; nNmAE: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto KV8qV; QY4Az: $realip = getenv("\x48\x54\x54\x50\137\103\114\111\x45\116\124\x5f\x49\x50"); goto Zf1R2; J5wHU: goto caA4t; goto M9oal; SpmiD: $realip = empty($realip) ? $_SERVER["\x52\x45\115\x4f\x54\105\x5f\101\104\104\122"] : $realip; goto p7AV0; DAd6Q: QEEbv: goto QY4Az; z3KMd: $realip = getenv("\x52\x45\x4d\117\124\x45\137\101\x44\104\122"); goto iRb8h; Wnjcv: if (getenv("\x48\124\x54\120\x5f\130\x5f\106\117\x52\127\101\122\x44\105\104\137\x46\117\122")) { goto NFjnW; } goto m0T1y; nVn_2: $realip = explode("\x2c", $realip); goto Wq1RT; PUmYO: $realip = empty($realip) ? $_SERVER["\122\105\x4d\x4f\x54\x45\x5f\101\104\104\x52"] : $realip; goto WHEeZ; p7AV0: goto sTIVy; goto DAd6Q; wTNnt: $realip = $realip[0]; goto SpmiD; WHEeZ: goto caA4t; goto rDy8M; UvLck: return $realip; goto y8tYN; Wq1RT: $realip = $realip[0]; goto PUmYO; xaB2V: $realip = explode("\54", $realip); goto wTNnt; UvKez: $realip = $_SERVER["\122\105\115\x4f\x54\x45\x5f\101\104\x44\122"]; goto J5wHU; mI6iX: yj2jQ: goto ktRi9; Zf1R2: sTIVy: goto pRJFK; ktRi9: if (isset($_SERVER["\110\x54\124\120\137\130\x5f\x46\x4f\122\127\x41\x52\x44\105\x44\137\106\117\x52"])) { goto ujSH2; } goto hCm8x; hCm8x: if (isset($_SERVER["\x48\x54\x54\x50\x5f\x43\114\x49\x45\116\124\x5f\111\120"])) { goto i5e01; } goto UvKez; QKK8Y: $realip = $_SERVER["\110\x54\124\x50\x5f\130\137\x46\117\x52\127\101\x52\104\x45\x44\x5f\x46\x4f\122"]; goto nVn_2; KV8qV: if (isset($_SERVER)) { goto yj2jQ; } goto Wnjcv; m0T1y: if (getenv("\110\124\x54\x50\137\103\x4c\x49\x45\x4e\x54\137\111\120")) { goto QEEbv; } goto z3KMd; KChpf: $realip = getenv("\110\124\124\x50\x5f\130\137\106\117\x52\x57\101\122\x44\x45\x44\137\106\x4f\122"); goto xaB2V; iRb8h: goto sTIVy; goto JMier; pRJFK: goto obqo0; goto mI6iX; uUCBB: $realip = $_SERVER["\110\124\124\x50\x5f\x43\x4c\x49\x45\x4e\124\137\111\120"]; goto VL0tv; JMier: NFjnW: goto KChpf; rDy8M: i5e01: goto uUCBB; VL0tv: caA4t: goto oD_46; oD_46: obqo0: goto UvLck; M9oal: ujSH2: goto QKK8Y; y8tYN: } protected function _trash($item, $request_data) { goto y9OIq; RuE4w: $data["\164\151\164\154\145"] = $item["\x74\x69\164\x6c\145"]; goto rxyfS; h2q33: $data["\141\144\x6d\x69\156\x5f\156\x61\155\145"] = $this->admin["\156\x61\155\145"]; goto ylqqQ; jfPrk: $data["\164\141\x62\x6c\x65"] = $this->table; goto fuDQo; fuDQo: $data["\144\x61\x74\141"] = json_encode($item); goto D8G4b; PHSIO: $data["\141\x64\155\x69\x6e\x5f\151\x64"] = $this->admin["\151\x64"]; goto h2q33; rxyfS: $path = $request_data["\160\141\x74\x68"]; goto ofj2g; y9OIq: $data = array(); goto PHSIO; ofj2g: $data["\160\x61\164\x68"] = $path ? $item[$path] : ''; goto jfPrk; e3ZoZ: $data["\143\164\x69\155\145"] = time(); goto O4BNZ; ylqqQ: $data["\156\x6f\x74\145"] = $request_data["\x6e\157\164\145"]; goto RuE4w; D8G4b: $data["\x73\164\x61\164\x65"] = 0; goto e3ZoZ; O4BNZ: return $this->db->insert("\164\162\141\163\x68", $data)->is(); goto WUu75; WUu75: } protected function _log($type, $data = array()) { goto rRBys; bpQEE: return $this->db->insert("\x6c\157\x67", $data)->is(); goto lrT1S; QlSeB: $data["\x63\x74\x69\155\x65"] = time(); goto bpQEE; rRBys: if (!($type != "\154\157\147\x69\156")) { goto OqMl3; } goto beZU7; lFaTm: $data["\164\171\x70\145"] = $type; goto k1KXY; beZU7: $data["\141\x64\155\151\156\x5f\x69\144"] = $this->admin["\x69\144"]; goto nPfl5; AY12E: OqMl3: goto J3Z2Y; nPfl5: $data["\141\x64\155\x69\156\137\x6e\x61\x6d\145"] = $this->admin["\156\141\155\x65"]; goto z01Dp; k1KXY: $data["\151\160"] = $this->_getIP(); goto QlSeB; J3Z2Y: $data["\x74\141\x62\x6c\145"] = $this->table; goto lFaTm; z01Dp: $data["\165\162\x6c"] = $_SERVER["\x48\124\124\x50\137\x52\x45\x46\105\122\105\122"]; goto AY12E; lrT1S: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
